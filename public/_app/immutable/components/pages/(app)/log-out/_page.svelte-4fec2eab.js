import{S as k,i as q,s as S,k as _,w as I,a as C,q as B,l as g,m as d,x as E,c as $,r as z,h as p,n as h,b as P,y as T,J as f,B as j,f as D,t as J,z as K,K as u,o as L,N as m}from"../../../../chunks/index-2a327d32.js";import{g as M}from"../../../../chunks/navigation-6a7bdca7.js";import{b,n as N}from"../../../../chunks/basic_provider-9b5e3560.js";import{c as O,b as x}from"../../../../chunks/booking_store-77b6c636.js";import{n as Q,q as w}from"../../../../chunks/quote_store-03fbda1a.js";import{u as V}from"../../../../chunks/unsubs-6e3637c3.js";import{u as v}from"../../../../chunks/user_store-5372ed67.js";/* empty css                                                               */import{C as A}from"../../../../chunks/Circle3-5fb1e28d.js";import{u as F}from"../../../../chunks/client-5fc005f9.js";async function G(){return await F.post("logout")}function H(c){let e,o,n,s,i,a;return o=new A({props:{size:"60",unit:"px",duration:"1s"}}),{c(){e=_("div"),I(o.$$.fragment),n=C(),s=_("p"),i=B("Thank you for visiting firstshipper"),this.h()},l(t){e=g(t,"DIV",{class:!0});var r=d(e);E(o.$$.fragment,r),n=$(r),s=g(r,"P",{class:!0});var l=d(s);i=z(l,"Thank you for visiting firstshipper"),l.forEach(p),r.forEach(p),this.h()},h(){h(s,"class","text-md"),h(e,"class","flex flex-col justify-center items-center w-full h-[500px] max-w-[calc(80rem+320px)]")},m(t,r){P(t,e,r),T(o,e,null),f(e,n),f(e,s),f(s,i),a=!0},p:j,i(t){a||(D(o.$$.fragment,t),a=!0)},o(t){J(o.$$.fragment,t),a=!1},d(t){t&&p(e),K(o)}}}function R(c,e,o){let n,s,i,a;return u(c,v,t=>o(0,n=t)),u(c,w,t=>o(1,s=t)),u(c,b,t=>o(2,i=t)),u(c,x,t=>o(3,a=t)),L(async()=>{console.log("tryping to mount logout"),localStorage.removeItem("basic_store_data"),localStorage.removeItem("quote_request_data"),localStorage.removeItem("booking_request_data"),window.localStorage.clear(),m(x,a=O(),a),m(b,i=N(),i),m(w,s=Q(),s),m(v,n={token:"",user:void 0},n),V.update(r=>{console.log("starting unsub for localStorage",r);let l=0;return r.forEach(y=>{console.log(`unsubfunction ${l}`),l++,y()}),[]});let t=await G();console.log("logout res",t),M("/")}),[]}class at extends k{constructor(e){super(),q(this,e,R,H,S,{})}}export{at as default};
