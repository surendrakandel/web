import{S as Ea,i as ga,s as ba,k as m,a as h,q as w,l as f,m as d,h as u,c as v,r as y,n as t,p as Ze,b as se,J as r,P as W,M as D,ae as Sa,B as na,D as Na,K as ze,o as wa,N,u as ce}from"../../../../chunks/index-2a327d32.js";import{I as ya,E as Aa}from"../../../../chunks/toast_options-4765ddd4.js";import{t as ia}from"../../../../chunks/SvelteToast.svelte_svelte_type_style_lang-be24e2c6.js";import{w as oa}from"../../../../chunks/index-c7174afa.js";import{g as Ia}from"../../../../chunks/navigation-6a7bdca7.js";import{t as ua}from"../../../../chunks/nav_state_provider-d02ba264.js";import{i as ma}from"../../../../chunks/valid_email-ea157053.js";import{i as fa}from"../../../../chunks/valid_password-6bd2121f.js";import{i as Ra}from"../../../../chunks/is_numeric-47cf1e87.js";import{h as Ta}from"../../../../chunks/axios_error-c78c2dfa.js";import{u as Ua}from"../../../../chunks/client-5fc005f9.js";import{m as j}from"../../../../chunks/index-450b3fa1.js";var re=(e=>(e[e.ROLE_NONE=0]="ROLE_NONE",e[e.SYSTEM_MANAGER=1]="SYSTEM_MANAGER",e[e.SYSTEM_STAFF=2]="SYSTEM_STAFF",e[e.SYSTEM_DEVELOPER=3]="SYSTEM_DEVELOPER",e[e.SYSTEM_WAREHOUSE_MANAGER=4]="SYSTEM_WAREHOUSE_MANAGER",e[e.SYSTEM_WAREHOUSE_staff=5]="SYSTEM_WAREHOUSE_staff",e[e.BUSINESS_OWNER=6]="BUSINESS_OWNER",e[e.BUSINESS_MANAGER=7]="BUSINESS_MANAGER",e[e.BUSINESS_STAFF=8]="BUSINESS_STAFF",e[e.BUSINESS_WAREHOUSE_MANAGER=9]="BUSINESS_WAREHOUSE_MANAGER",e[e.BUSINESS_WAREHOUSE_staff=10]="BUSINESS_WAREHOUSE_staff",e[e.THREEPL_OWNER=11]="THREEPL_OWNER",e[e.THREEPL_STAFF=12]="THREEPL_STAFF",e[e.SYSTEM_OWNER=13]="SYSTEM_OWNER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e))(re||{});async function Oa(e){var s;try{let n=await Ua.post("",e);debugger;if((n==null?void 0:n.status)==201)return(s=n==null?void 0:n.data)==null?void 0:s.body}catch(n){Ta(n),console.log(n)}}function _a(e){let s,n=e[1].first_name.err_messsage+"",l;return{c(){s=m("h3"),l=w(n),this.h()},l(a){s=f(a,"H3",{class:!0});var i=d(s);l=y(i,n),i.forEach(u),this.h()},h(){t(s,"class","text-error")},m(a,i){se(a,s,i),r(s,l)},p(a,i){i&2&&n!==(n=a[1].first_name.err_messsage+"")&&ce(l,n)},d(a){a&&u(s)}}}function da(e){let s,n=e[1].last_name.err_messsage+"",l;return{c(){s=m("h3"),l=w(n),this.h()},l(a){s=f(a,"H3",{class:!0});var i=d(s);l=y(i,n),i.forEach(u),this.h()},h(){t(s,"class","text-error")},m(a,i){se(a,s,i),r(s,l)},p(a,i){i&2&&n!==(n=a[1].last_name.err_messsage+"")&&ce(l,n)},d(a){a&&u(s)}}}function ca(e){let s,n=e[1].email.err_messsage+"",l;return{c(){s=m("h3"),l=w(n),this.h()},l(a){s=f(a,"H3",{class:!0});var i=d(s);l=y(i,n),i.forEach(u),this.h()},h(){t(s,"class","text-error")},m(a,i){se(a,s,i),r(s,l)},p(a,i){i&2&&n!==(n=a[1].email.err_messsage+"")&&ce(l,n)},d(a){a&&u(s)}}}function pa(e){let s,n=e[1].password.err_messsage+"",l;return{c(){s=m("h3"),l=w(n),this.h()},l(a){s=f(a,"H3",{class:!0});var i=d(s);l=y(i,n),i.forEach(u),this.h()},h(){t(s,"class","text-error")},m(a,i){se(a,s,i),r(s,l)},p(a,i){i&2&&n!==(n=a[1].password.err_messsage+"")&&ce(l,n)},d(a){a&&u(s)}}}function ha(e){let s,n=e[1].company_name.err_messsage+"",l;return{c(){s=m("h3"),l=w(n),this.h()},l(a){s=f(a,"H3",{class:!0});var i=d(s);l=y(i,n),i.forEach(u),this.h()},h(){t(s,"class","text-error")},m(a,i){se(a,s,i),r(s,l)},p(a,i){i&2&&n!==(n=a[1].company_name.err_messsage+"")&&ce(l,n)},d(a){a&&u(s)}}}function va(e){let s,n=e[1].phone_number.err_messsage+"",l;return{c(){s=m("h3"),l=w(n),this.h()},l(a){s=f(a,"H3",{class:!0});var i=d(s);l=y(i,n),i.forEach(u),this.h()},h(){t(s,"class","text-error")},m(a,i){se(a,s,i),r(s,l)},p(a,i){i&2&&n!==(n=a[1].phone_number.err_messsage+"")&&ce(l,n)},d(a){a&&u(s)}}}function Ba(e){let s,n,l,a,i,z,P,E,Q,V,pe,p,F,J,he,ve,b,Ee,ge,k,K,be,c,_,$,ne,S,x,ye,Ae,L,Ie,Re,G,ee,Te,Ue,H,Oe,Be,Y,ae,Le,Me,M,Pe,Fe,C,te,ke,He,q,qe,De,ie,X,We,Se,Ve,le,Ge,Z,Ye,Ce,Je,A=e[1].first_name.valid!=!0&&_a(e),I=e[1].last_name.valid!=!0&&da(e),R=e[1].email.valid!=!0&&ca(e),T=e[1].password.valid!=!0&&pa(e),U=e[1].company_name.valid!=!0&&ha(e),O=e[1].phone_number.valid!=!0&&va(e);return{c(){s=m("div"),n=m("div"),l=h(),a=m("div"),i=m("div"),z=m("h1"),P=w("Create an account for free"),E=h(),Q=m("h3"),V=w("Free forever. No payment needed."),pe=h(),p=m("form"),F=m("div"),J=m("label"),he=w("First Name"),ve=h(),b=m("input"),Ee=h(),A&&A.c(),ge=h(),k=m("div"),K=m("label"),be=w("Last Name"),c=h(),_=m("input"),$=h(),I&&I.c(),ne=h(),S=m("div"),x=m("label"),ye=w("Email"),Ae=h(),L=m("input"),Ie=h(),R&&R.c(),Re=h(),G=m("div"),ee=m("label"),Te=w("Password"),Ue=h(),H=m("input"),Oe=h(),T&&T.c(),Be=h(),Y=m("div"),ae=m("label"),Le=w("Company Name"),Me=h(),M=m("input"),Pe=h(),U&&U.c(),Fe=h(),C=m("div"),te=m("label"),ke=w("Phone Number"),He=h(),q=m("input"),qe=h(),O&&O.c(),De=h(),ie=m("div"),X=m("button"),We=w("Sign up"),Ve=h(),le=m("span"),Ge=w(`Already have an Account?
				`),Z=m("a"),Ye=w("Login"),this.h()},l(o){s=f(o,"DIV",{class:!0});var g=d(s);n=f(g,"DIV",{class:!0,style:!0}),d(n).forEach(u),l=v(g),a=f(g,"DIV",{class:!0});var Ne=d(a);i=f(Ne,"DIV",{class:!0});var we=d(i);z=f(we,"H1",{class:!0});var Ke=d(z);P=y(Ke,"Create an account for free"),Ke.forEach(u),E=v(we),Q=f(we,"H3",{class:!0});var Qe=d(Q);V=y(Qe,"Free forever. No payment needed."),Qe.forEach(u),we.forEach(u),pe=v(Ne),p=f(Ne,"FORM",{class:!0});var B=d(p);F=f(B,"DIV",{class:!0});var oe=d(F);J=f(oe,"LABEL",{for:!0,class:!0});var Xe=d(J);he=y(Xe,"First Name"),Xe.forEach(u),ve=v(oe),b=f(oe,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,id:!0,"aria-valuetext":!0}),Ee=v(oe),A&&A.l(oe),oe.forEach(u),ge=v(B),k=f(B,"DIV",{class:!0});var ue=d(k);K=f(ue,"LABEL",{for:!0,class:!0});var $e=d(K);be=y($e,"Last Name"),$e.forEach(u),c=v(ue),_=f(ue,"INPUT",{class:!0,type:!0,placeholder:!0,name:!0,id:!0}),$=v(ue),I&&I.l(ue),ue.forEach(u),ne=v(B),S=f(B,"DIV",{class:!0});var me=d(S);x=f(me,"LABEL",{for:!0,class:!0});var xe=d(x);ye=y(xe,"Email"),xe.forEach(u),Ae=v(me),L=f(me,"INPUT",{class:!0,type:!0,placeholder:!0,name:!0,id:!0}),Ie=v(me),R&&R.l(me),me.forEach(u),Re=v(B),G=f(B,"DIV",{class:!0});var fe=d(G);ee=f(fe,"LABEL",{for:!0,class:!0});var ea=d(ee);Te=y(ea,"Password"),ea.forEach(u),Ue=v(fe),H=f(fe,"INPUT",{class:!0,type:!0,placeholder:!0,name:!0,id:!0}),Oe=v(fe),T&&T.l(fe),fe.forEach(u),Be=v(B),Y=f(B,"DIV",{class:!0});var _e=d(Y);ae=f(_e,"LABEL",{for:!0,class:!0});var aa=d(ae);Le=y(aa,"Company Name"),aa.forEach(u),Me=v(_e),M=f(_e,"INPUT",{class:!0,type:!0,placeholder:!0,name:!0,id:!0}),Pe=v(_e),U&&U.l(_e),_e.forEach(u),Fe=v(B),C=f(B,"DIV",{class:!0});var de=d(C);te=f(de,"LABEL",{for:!0,class:!0});var ta=d(te);ke=y(ta,"Phone Number"),ta.forEach(u),He=v(de),q=f(de,"INPUT",{class:!0,type:!0,placeholder:!0,name:!0,id:!0}),qe=v(de),O&&O.l(de),de.forEach(u),De=v(B),ie=f(B,"DIV",{class:!0});var la=d(ie);X=f(la,"BUTTON",{type:!0,class:!0});var ra=d(X);We=y(ra,"Sign up"),ra.forEach(u),la.forEach(u),Ve=v(B),le=f(B,"SPAN",{class:!0});var je=d(le);Ge=y(je,`Already have an Account?
				`),Z=f(je,"A",{class:!0,style:!0,href:!0,"data-test":!0});var sa=d(Z);Ye=y(sa,"Login"),sa.forEach(u),je.forEach(u),B.forEach(u),Ne.forEach(u),g.forEach(u),this.h()},h(){t(n,"class","w-1/2 bg-cover lg:block hidden"),Ze(n,"background-image","url(images/background/sign_up.svg)"),t(z,"class","text-gray-800 text-3xl font-medium intro_text"),t(Q,"class","p-1 text-green-700 text-xl mt-2"),t(i,"class","text-left"),t(J,"for","first_name"),t(J,"class","label w-full sm:w-[400px]"),t(b,"class","w-full"),t(b,"type","text"),t(b,"name","first_name"),t(b,"placeholder","first name"),t(b,"id","first_name"),t(b,"aria-valuetext","first_name"),b.required=!0,t(F,"class","w-full flex flex-col lg:items-start"),t(K,"for","last_name"),t(K,"class","label"),t(_,"class","w-full"),t(_,"type","text"),t(_,"placeholder","last name"),t(_,"name","last_name"),t(_,"id","last_name"),_.required=!0,t(k,"class","w-full flex flex-col"),t(x,"for","email"),t(x,"class","label"),t(L,"class","w-full"),t(L,"type","email"),t(L,"placeholder","email"),t(L,"name","email"),t(L,"id","email"),L.required=!0,t(S,"class","w-full flex flex-col"),t(ee,"for","password"),t(ee,"class","label"),t(H,"class","w-full"),t(H,"type","password"),t(H,"placeholder","password"),t(H,"name","password"),t(H,"id","password"),t(G,"class","w-full flex flex-col"),t(ae,"for","company_name"),t(ae,"class","label"),t(M,"class","w-full"),t(M,"type","text"),t(M,"placeholder","company name"),t(M,"name","company_name"),t(M,"id","company_name"),M.required=!0,t(Y,"class","w-full flex flex-col"),t(te,"for","phone_number"),t(te,"class","label"),t(q,"class","w-full"),t(q,"type","tel"),t(q,"placeholder","phone number"),t(q,"name","phone_number"),t(q,"id","phone_number"),q.required=!0,t(C,"class","w-full flex flex-col"),t(X,"type","submit"),t(X,"class",Se="btn btn-primary py-3 w-full text-white rounded hover:bg-green-600"+(e[0]==!0?"disabled":"")),t(ie,"class","mt-8 flex justify-between"),t(Z,"class","btn mt-3 text-orange-500 font-mono font-bold text-xl"),Ze(Z,"background-color","#f88635"),Ze(Z,"width","50%"),t(Z,"href","/login"),t(Z,"data-test","Link"),t(le,"class","flex flex-col text-primary my-3"),t(p,"class","pageWrapper bg-[rgb(243,243,246)] bg-opacity-50 gap-2 mt-2"),t(a,"class","w-full flex flex-col lg:w-1/2 p-3 mt-4"),t(s,"class","flex max-w-[calc(80rem+320px)] text-primary")},m(o,g){se(o,s,g),r(s,n),r(s,l),r(s,a),r(a,i),r(i,z),r(z,P),r(i,E),r(i,Q),r(Q,V),r(a,pe),r(a,p),r(p,F),r(F,J),r(J,he),r(F,ve),r(F,b),W(b,e[2].first_name),r(F,Ee),A&&A.m(F,null),r(p,ge),r(p,k),r(k,K),r(K,be),r(k,c),r(k,_),W(_,e[2].last_name),r(k,$),I&&I.m(k,null),r(p,ne),r(p,S),r(S,x),r(x,ye),r(S,Ae),r(S,L),W(L,e[2].email),r(S,Ie),R&&R.m(S,null),r(p,Re),r(p,G),r(G,ee),r(ee,Te),r(G,Ue),r(G,H),W(H,e[2].password),r(G,Oe),T&&T.m(G,null),r(p,Be),r(p,Y),r(Y,ae),r(ae,Le),r(Y,Me),r(Y,M),W(M,e[2].company_name),r(Y,Pe),U&&U.m(Y,null),r(p,Fe),r(p,C),r(C,te),r(te,ke),r(C,He),r(C,q),W(q,e[2].phone_number),r(C,qe),O&&O.m(C,null),r(p,De),r(p,ie),r(ie,X),r(X,We),r(p,Ve),r(p,le),r(le,Ge),r(le,Z),r(Z,Ye),Ce||(Je=[D(b,"input",e[7]),D(b,"change",e[8]),D(_,"input",e[9]),D(_,"change",e[10]),D(L,"input",e[11]),D(L,"change",e[12]),D(H,"input",e[13]),D(H,"change",e[14]),D(M,"input",e[15]),D(M,"change",e[16]),D(q,"input",e[17]),D(q,"change",e[18]),D(p,"submit",Sa(e[5]))],Ce=!0)},p(o,[g]){g&4&&b.value!==o[2].first_name&&W(b,o[2].first_name),o[1].first_name.valid!=!0?A?A.p(o,g):(A=_a(o),A.c(),A.m(F,null)):A&&(A.d(1),A=null),g&4&&_.value!==o[2].last_name&&W(_,o[2].last_name),o[1].last_name.valid!=!0?I?I.p(o,g):(I=da(o),I.c(),I.m(k,null)):I&&(I.d(1),I=null),g&4&&L.value!==o[2].email&&W(L,o[2].email),o[1].email.valid!=!0?R?R.p(o,g):(R=ca(o),R.c(),R.m(S,null)):R&&(R.d(1),R=null),g&4&&H.value!==o[2].password&&W(H,o[2].password),o[1].password.valid!=!0?T?T.p(o,g):(T=pa(o),T.c(),T.m(G,null)):T&&(T.d(1),T=null),g&4&&M.value!==o[2].company_name&&W(M,o[2].company_name),o[1].company_name.valid!=!0?U?U.p(o,g):(U=ha(o),U.c(),U.m(Y,null)):U&&(U.d(1),U=null),g&4&&W(q,o[2].phone_number),o[1].phone_number.valid!=!0?O?O.p(o,g):(O=va(o),O.c(),O.m(C,null)):O&&(O.d(1),O=null),g&1&&Se!==(Se="btn btn-primary py-3 w-full text-white rounded hover:bg-green-600"+(o[0]==!0?"disabled":""))&&t(X,"class",Se)},i:na,o:na,d(o){o&&u(s),A&&A.d(),I&&I.d(),R&&R.d(),T&&T.d(),U&&U.d(),O&&O.d(),Ce=!1,Na(Je)}}}function La(e,s,n){let l,a,i;ze(e,ua,c=>n(19,i=c));let z=!1,P=oa({first_name:"",middle_name:"",last_name:"",email:"",password:"",phone_number:"",role:[re.BUSINESS_OWNER,re.BUSINESS_MANAGER,re.BUSINESS_STAFF],terms_aggrement:!0,company_name:""});ze(e,P,c=>n(2,a=c));let E=oa({first_name:{valid:!0,err_messsage:"first name is required or not valid"},middle_name:{valid:!0,err_messsage:"last name is required or not valid"},last_name:{valid:!0,err_messsage:"last name is required or not valid"},email:{valid:!0,err_messsage:"email is required or not valid"},password:{valid:!0,err_messsage:"password  is required or not valid. Password should be 8 characters long with one number and one special character"},phone_number:{valid:!0,err_messsage:"phone_number name is required or not valid"},role:[re.BUSINESS_OWNER,re.BUSINESS_MANAGER,re.BUSINESS_STAFF],terms_aggrement:!0,company_name:{valid:!0,err_messsage:"company name is  required or not valid"}});ze(e,E,c=>n(1,l=c));function Q(){const c=j.object({first_name:j.string().min(1,"first name is required"),middle_name:j.string().optional().nullable(),last_name:j.string().min(1,"last name is required"),email:j.string().email("email must be valid"),password:j.string().min(8,"password must be 8 characters or more"),phone_number:j.string().min(10,"phone number must be 10 digits long"),role:j.array(j.number()).optional().nullable(),terms_aggrement:j.boolean().default(!0),company_name:j.string().min(5,"company name is required")});let _={};try{_=c.parse(a)}catch($){let ne=0;$.issues.forEach(S=>{console.log(`err: ${ne}`,S),l.hasOwnProperty(S.path[0])&&(N(E,l[S.path[0]].valid=!1,l),N(E,l[S.path[0]].err_messsage=S.message,l)),ne++});return}setTimeout(async()=>{n(0,z=!0);let $=await Oa(a);debugger;$.token!=""?(ia.push("account has been created.Please check your email to confirm your email address",ya),Ia("/confirm-email/inform")):ia.push("could not create account. Please try later.",Aa)},200)}wa(()=>(i==!0&&N(ua,i=!1,i),()=>{N(P,a={first_name:"",middle_name:"",last_name:"",email:"",password:"",phone_number:"",role:[],terms_aggrement:!1,company_name:""},a),N(E,l=void 0,l)}));function V(c){let _=document.getElementById(c).value;if(c=="first_name"&&_.length<3){N(E,l.first_name.valid=!1,l);return}if(c=="first_name"&&_.length>3){N(E,l.first_name.valid=!0,l);return}if(c=="last_name"&&_.length<3){N(E,l.last_name.valid=!1,l);return}if(c=="last_name"&&_.length>3){N(E,l.last_name.valid=!0,l);return}if(c=="email"&&!ma(_)){N(E,l.email.valid=!1,l);return}if(c=="email"&&ma(_)){N(E,l.email.valid=!0,l);return}if(c=="password"&&!fa(_)){N(E,l.password.valid=!1,l);return}if(c=="password"&&fa(_)){N(E,l.password.valid=!0,l);return}if(c=="company_name"&&_.length<3){N(E,l.company_name.valid=!1,l);return}if(c=="company_name"&&_.length>3){N(E,l.company_name.valid=!0,l);return}if(c=="phone_number"&&!Ra(_)&&_.length<10||_.length>12){N(E,l.phone_number.valid=!1,l);return}if(c=="phone_number"&&_.length>3){N(E,l.phone_number.valid=!0,l);return}}function pe(){a.first_name=this.value,P.set(a)}const p=()=>V("first_name");function F(){a.last_name=this.value,P.set(a)}const J=()=>V("last_name");function he(){a.email=this.value,P.set(a)}const ve=()=>V("email");function b(){a.password=this.value,P.set(a)}const Ee=()=>V("password");function ge(){a.company_name=this.value,P.set(a)}const k=()=>V("company_name");function K(){a.phone_number=this.value,P.set(a)}return[z,l,a,P,E,Q,V,pe,p,F,J,he,ve,b,Ee,ge,k,K,()=>V("phone_number")]}class ja extends Ea{constructor(s){super(),ga(this,s,La,Ba,ba,{})}}export{ja as default};
